<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>MovingForward</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="./static/css/blueprint/screen.css" type="text/css" media="screen, projection">
    <link rel="stylesheet" href="./static/css/blueprint/print.css" type="text/css" media="print">
    <!--[if lt IE 8]>
      <link rel="stylesheet" href="./static/css/blueprint/ie.css" type="text/css" media="screen, projection">
    <![endif]-->
    <link rel="stylesheet" href="./static/css/pygments/syntax.css" type="text/css">
    <link rel="stylesheet" href="./static/css/layout.css" type="text/css">
    <link rel="stylesheet" href="./static/css/colors.css" type="text/css">
    <script type="text/javascript" src="./static/js/graph.js"></script>
  </head>
  <body>
    <div class="container noshowgrid">
      <div class="span-20 prepend-2 append-2">
        <h1>MovingForward</h1>
        <div class="figure">
<img src="./static/images/summary.png" alt="Summary." /><p class="caption">Summary.</p>
</div>
<p>In this tutorial we have written a simple compiler for a simple language. We transformed code in con to code in C, and together with a runtime library we were able to assemble a HEX file that could be uploaded and run on the Arduino.</p>
<h2 id="whats-next">What's next?</h2>
<p>The compiler we developed in this tutorial is very simple. If you want to learn more about compilers, here are some things you can look into.</p>
<h3 id="type-checking">Type checking</h3>
<p>At the moment, there are not many checks that a con program is valid. If the writer of a con program makes a mistake, it will explode at runtime. One check that we could perform is that all functions are called with the correct number of arguments. It is difficult to do thorough type checking since we don't define types in con, but number of arguments we can check.</p>
<h3 id="optimization">Optimization</h3>
<p>We could introduce a new stage in the compiler to optimize the source program. One optimization that we could do is to remove dead code. If we assign values to names without using them, there is no need to include them in the target code. In the example below, <code>BAR</code> is not used:</p>
<pre><code>let FOO = 5

let BAR = 6

let main = \() -&gt; print FOO</code></pre>
<h3 id="different-target-platform">Different target platform</h3>
<p>In this tutorial, the target language was C. Then we used a different compiler to turn C code into an Arduino executable. What we can do instead is to generate Arduino machine code directly. This is a more complex task, but you gain more insight into how programs are executed on a machine.</p>
<h3 id="virtual-machine">Virtual machine</h3>
<p>Another approach is to compile code to byte code that is later executed by a virtual machine. If we can implement this virtual machine on an Arduino, we can compile con to that byte code in have it execute on the Arduino.</p>
        <hr />
        <svg xmlns="http://www.w3.org/2000/svg" id="canvas"></svg>
        <script type="text/javascript">
            var colors = function (level) {
                if (level == 1) {
                    return {
                        color: "#fcaf3e",
                        stroke: "#ab7423"
                    };
                } else if (level == 2) {
                    return {
                        color: "#fce94f",
                        stroke: "#c4a000"
                    };
                } else if (level == 3) {
                    return {
                        color: "#8ae234",
                        stroke: "#425d26"
                    };
                }
            };
            var goToPageFn = function(page) {
                return function() {
                    location.href = page + ".html";
                };
            };
            var g = new Graph("canvas", 800, 400);
            g.repulsion = g.repulsion / 2;
            //g.spring_length = 8;
            g.createVertex("MovingForward", colors(1), goToPageFn("MovingForward"));g.createVertex("AssembleHex", colors(2), goToPageFn("AssembleHex"));g.createVertex("CodeGeneration", colors(3), goToPageFn("CodeGeneration"));g.createVertex("RuntimeSupport", colors(3), goToPageFn("RuntimeSupport"));
            g.createEdge("AssembleHex", "CodeGeneration");g.createEdge("AssembleHex", "MovingForward");g.createEdge("AssembleHex", "RuntimeSupport");g.createEdge("CodeGeneration", "AssembleHex");g.createEdge("CodeGeneration", "RuntimeSupport");g.createEdge("RuntimeSupport", "CodeGeneration");
            g.go();
        </script>
        <hr />
        <p>
        <center>
        1. <a href="HomePage.html">HomePage</a>
        |
        2. <a href="StageParsing.html">StageParsing</a>
        |
        3. <a href="RuntimeSupport.html">RuntimeSupport</a>
        |
        4. <a href="CodeGeneration.html">CodeGeneration</a>
        |
        5. <a href="AssembleHex.html">AssembleHex</a>
        |
        6. <a href="MovingForward.html">MovingForward</a>
        </center>
        </p>
        <hr />

        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'compilertutorial';
        (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        <hr />
      </div>
    </div>
  </body>
</html>