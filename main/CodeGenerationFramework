main.CodeGenerationFramework

state monad stuff
