<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>ContinuationPassingStyle</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="./static/css/blueprint/screen.css" type="text/css" media="screen, projection">
    <link rel="stylesheet" href="./static/css/blueprint/print.css" type="text/css" media="print">
    <!--[if lt IE 8]>
      <link rel="stylesheet" href="./static/css/blueprint/ie.css" type="text/css" media="screen, projection">
    <![endif]-->
    <link rel="stylesheet" href="./static/css/pygments/syntax.css" type="text/css">
    <link rel="stylesheet" href="./static/css/layout.css" type="text/css">
    <link rel="stylesheet" href="./static/css/colors.css" type="text/css">
    <script type="text/javascript" src="./static/js/graph.js"></script>
  </head>
  <body>
    <div class="container noshowgrid">
      <div class="span-20 prepend-2 append-2">
        <h1>ContinuationPassingStyle</h1>
        <p>Continuation passing style is a style of programming in which functions never return. Instead they keep calling functions.</p>
<p>Let's look at a simple example in a traditional language: addition. A function that adds two numbers might look like this:</p>
<pre><code>def add(first, second):
    return first + second</code></pre>
<p>And you might use the function like this:</p>
<pre><code>result = add(4, 5)</code></pre>
<p>This is how most languages work. But in continuation passing style, we can't return the result. Instead we need to pass an extra function to add (known as the continuation, and often denoted <code>k</code>) to take the result and do something with it:</p>
<pre><code>def add(first, second, k):
    k(first + second)</code></pre>
<p>And we might use it like this:</p>
<pre><code>def handle_result(result):
    ...

add(4, 5, handle_result)</code></pre>
        <hr />
        <svg xmlns="http://www.w3.org/2000/svg" id="canvas"></svg>
        <script type="text/javascript">
            var colors = function (level) {
                if (level == 1) {
                    return {
                        color: "#fcaf3e",
                        stroke: "#ab7423"
                    };
                } else if (level == 2) {
                    return {
                        color: "#fce94f",
                        stroke: "#c4a000"
                    };
                } else if (level == 3) {
                    return {
                        color: "#8ae234",
                        stroke: "#425d26"
                    };
                }
            };
            var goToPageFn = function(page) {
                return function() {
                    location.href = page + ".html";
                };
            };
            var g = new Graph("canvas", 800, 400);
            g.repulsion = g.repulsion / 2;
            //g.spring_length = 8;
            g.createVertex("ContinuationPassingStyle", colors(1), goToPageFn("ContinuationPassingStyle"));g.createVertex("ConLanguage", colors(2), goToPageFn("ConLanguage"));g.createVertex("ContinuationsMusicCompiler", colors(3), goToPageFn("ContinuationsMusicCompiler"));g.createVertex("PiezoSpeaker", colors(3), goToPageFn("PiezoSpeaker"));g.createVertex("StageParsing", colors(3), goToPageFn("StageParsing"));
            g.createEdge("ConLanguage", "ContinuationPassingStyle");g.createEdge("ConLanguage", "PiezoSpeaker");g.createEdge("ContinuationsMusicCompiler", "ConLanguage");g.createEdge("PiezoSpeaker", "ContinuationsMusicCompiler");g.createEdge("StageParsing", "ConLanguage");
            g.go();
        </script>
        <hr />
        <p>
        <center>
        1. <a href="HomePage.html">HomePage</a>
        |
        2. <a href="StageParsing.html">StageParsing</a>
        |
        3. <a href="RuntimeSupport.html">RuntimeSupport</a>
        |
        4. <a href="CodeGeneration.html">CodeGeneration</a>
        |
        5. <a href="AssembleHex.html">AssembleHex</a>
        |
        6. <a href="MovingForward.html">MovingForward</a>
        </center>
        </p>
        <hr />
      </div>
    </div>
  </body>
</html>